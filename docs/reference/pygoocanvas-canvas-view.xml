<?xml version="1.0" standalone="no"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
    "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">

<refentry id="class-canvas-view">

  <refnamediv>
    <refname>goocanvas.CanvasView</refname>
      <refpurpose>The Canvas View</refpurpose>
  </refnamediv>

  <refsect1>
    <title>Synopsis</title>

    <classsynopsis language="python">
      <ooclass><classname>goocanvas.CanvasView</classname></ooclass>
      <ooclass><classname>gtk.Container</classname></ooclass>

      <constructorsynopsis language="python">
        <methodname><link linkend="constructor-canvas-view">goocanvas.CanvasView</link></methodname>
        <methodparam></methodparam>
      </constructorsynopsis>

      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--convert-from-item-space">convert_from_item_space</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--convert-to-item-space">convert_to_item_space</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
      </methodsynopsis>
     <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--convert-from-pixel">convert_from_pixel</link></methodname>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--convert-to-pixel">convert_to_pixel</link></methodname>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--create-item-view">create_item_view</link></methodname>
        <methodparam><parameter role="keyword">item</parameter></methodparam>
        <methodparam><parameter role="keyword">parent_view</parameter></methodparam>
      </methodsynopsis>
      
      <!--START NOT YET IMPLEMENTED
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview-get-bounds">get_bounds</link></methodname>
        <methodparam><parameter role="keyword">left</parameter></methodparam>
        <methodparam><parameter role="keyword">top</parameter></methodparam>
        <methodparam><parameter role="keyword">right</parameter></methodparam>
        <methodparam><parameter role="keyword">bottom</parameter></methodparam>
      </methodsynopsis>
      END NOT YET IMPLEMENTED -->
      
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--get-item-view-at">get_item_view_at</link></methodname>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
        <methodparam><parameter role="keyword">pointer_event</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--get-model">get_model</link></methodname>
        <methodparam></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--get-scale">get_scale</link></methodname>
        <methodparam></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--grab-focus">grab_focus</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--keyword-grab">keyboard_grab</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">owner_events</parameter></methodparam>
        <methodparam><parameter role="keyword">time</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--keyboard-ungrab">keyboard_ungrab</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">time</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--pointer-grab">pointer_grab</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">event_mask</parameter></methodparam>
        <methodparam><parameter role="keyword">cursor</parameter></methodparam>
        <methodparam><parameter role="keyword">time</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--pointer-ungrab">pointer_ungrab</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">time</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--render">render</link></methodname>
        <methodparam><parameter role="keyword">cr</parameter></methodparam>
        <methodparam><parameter role="keyword">bounds</parameter></methodparam>
        <methodparam><parameter role="keyword">scale</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--request-redraw">request_redraw</link></methodname>
        <methodparam><parameter role="keyword">bounds</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--request-update">request_update</link></methodname>
        <methodparam></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--scroll-to">scroll_to</link></methodname>
        <methodparam><parameter role="keyword">left</parameter></methodparam>
        <methodparam><parameter role="keyword">top</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--set-bounds">set_bounds</link></methodname>
        <methodparam><parameter role="keyword">left</parameter></methodparam>
        <methodparam><parameter role="keyword">top</parameter></methodparam>
        <methodparam><parameter role="keyword">right</parameter></methodparam>
        <methodparam><parameter role="keyword">bottom</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--set-model">set_model</link></methodname>
        <methodparam><parameter role="keyword">model</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--set-scale">set_scale</link></methodname>
        <methodparam><parameter role="keyword">pixel_per_unit</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--update">update</link></methodname>
        <methodparam></methodparam>
      </methodsynopsis>
</classsynopsis>

  </refsect1>

  <refsect1>
    <title>Ancestry</title>

<synopsis>+-- <link linkend="class-gobject">gobject.GObject</link>
	+-- <link linkend="class-gtkobject">gtk.Object</link>
		+-- <link linkend="class-gtkwidget">gtk.Widget</link>
			+-- <link linkend="class-gtkcontainer">gtk.Container</link>
				+-- <link linkend="class-canvas-view">goocanvas.CanvasView</link>
</synopsis>

  </refsect1>
  
  <refsect1 id="properties-goocanvasview">
    <title>goocanvas.CanvasView Properties</title>
    
    <para><link linkend="properties-gtkobject">gtk.Object Properties</link></para>
    <para><link linkend="properties-gtkwidget">gtk.Widget Properties</link></para>
    <para><link linkend="properties-gtkcontainer">gtk.Container Properties</link></para>
    
    <blockquote role="properties">
      <informaltable pgwide="1" frame="none">
        <tgroup cols="3">
          <colspec column="1" colwidth="1in"/>
          <colspec column="2" colwidth="1in"/>
          <colspec column="3" colwidth="3.5in"/>
          <tbody>
            
            <row valign="top">
              <entry>"anchor"</entry>
              <entry>Read/Write</entry>
              <entry>Where to place the canvas when it is smaller than the widget's allocated area.
                     Default value: gtk.ANCHOR_NORTH_WEST</entry>
            </row>
            
            <row valign="top">
              <entry>"model"</entry>
              <entry>Read/Write</entry>
              <entry>The model for the canvas view.</entry>
            </row>
            
            <row valign="top">
              <entry>"scale"</entry>
              <entry>Read/Write</entry>
              <entry>The number of pixels to use for each device unit. Allowed values: >= 0
                     Default value: 1</entry>
            </row>
            
            <row valign="top">
              <entry>"x1"</entry>
              <entry>Read/Write</entry>
              <entry>The x coordinate of the left edge of the canvas bounds, in device units.
                     Default value: 0.</entry>
            </row>
             
            <row valign="top">
              <entry>"x2"</entry>
              <entry>Read/Write</entry>
              <entry>The x coordinate of the right edge of the canvas bounds, in device units.
                     Default value: 1000.</entry>
            </row>
            
            <row valign="top">
              <entry>"y1"</entry>
              <entry>Read/Write</entry>
              <entry>The y coordinate at the top edge of the canvas bounds, in device units.
                     Default value: 0.</entry>
            </row>
            
            <row valign="top">
              <entry>"y2"</entry>
              <entry>Read/Write</entry>
              <entry>The y coordinate at the bottom edge of the canvas bounds, in device units.
                     Default value: 1000.</entry>
            </row>
            
          </tbody>
        </tgroup>
      </informaltable>
    </blockquote>
    
  </refsect1>

  <refsect1 id="signal-prototypes-goocanvasview">
    <title>goocanvas.CanvasView Signal Prototypes</title>

      <variablelist>
      <varlistentry>
        <term><link linkend="signal-goocanvasview--item-view-created">"item-view-created</link>"</term>
        <listitem>
          <methodsynopsis language="python"><methodname>callback</methodname>
            <methodparam><parameter>canvas_view</parameter></methodparam>
            <methodparam><parameter>item</parameter></methodparam>
            <methodparam><parameter>user_param</parameter></methodparam>
            <methodparam><parameter>...</parameter></methodparam>
          </methodsynopsis>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><link linkend="signal-goocanvasview--set-scroll-adjustments">"set-scroll-adjustments</link>"</term>
        <listitem>
          <methodsynopsis language="python"><methodname>callback</methodname>
            <methodparam><parameter>canvas_view</parameter></methodparam>
            <methodparam><parameter>hadjustment</parameter></methodparam>
            <methodparam><parameter>vadjustment</parameter></methodparam>
            <methodparam><parameter>user_param</parameter></methodparam>
            <methodparam><parameter>...</parameter></methodparam>
          </methodsynopsis>
        </listitem>
      </varlistentry>
    </variablelist>

  </refsect1>

  <refsect1>
    <title>Description</title>

  </refsect1>

  <refsect1 id="constructor-canvas-view">
	  <title>Constructor</title>
	  
	  <programlisting><constructorsynopsis language="python">
			  <methodname>goocanvas.CanvasView</methodname>
		  </constructorsynopsis></programlisting>
	  
	  <variablelist>
		  <varlistentry>
			  <term><emphasis>Returns</emphasis>&nbsp;:</term>
			  <listitem><simpara>A new 
					  <link linkend="class-canvas-view"><classname>goocanvas.CanvasView</classname></link>
				  </simpara></listitem>
		  </varlistentry>
	  </variablelist>
	  <para>
		  Creates a new canvas view.
	  </para>
	</refsect1>

	<refsect1>
    <title>Methods</title>

    <refsect2 id="method-goocanvasview--convert-from-item-space">
      <title>goocanvas.CanvasView.convert_from_item_space</title>

      <programlisting><methodsynopsis language="python">
        <methodname>convert_from_item_space</methodname>
          <methodparam><parameter role="keyword">item_view</parameter></methodparam>
          <methodparam><parameter role="keyword">x</parameter></methodparam>
          <methodparam><parameter role="keyword">y</parameter></methodparam>
        </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>A <link linkend="class-canvas-item-view">goocanvas.CanvasItemView
              </link></simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">x</parameter>&nbsp;:</term>
          <listitem><simpara>The x coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">y</parameter>&nbsp;:</term>
          <listitem><simpara>The y coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>The new x and y coordinates.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Converts a coordinate from the given item's coordinate space to the canvas view coordinate space, 
        applying all transformation matrices including the item's own transformation matrix, if it has one.
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--convert-from-pixel">
      <title>goocanvas.CanvasView.convert_from_pixel</title>

      <programlisting><methodsynopsis language="python">
          <methodname>convert_from_pixel</methodname>
          <methodparam><parameter role="keyword">x</parameter></methodparam>
          <methodparam><parameter role="keyword">y</parameter></methodparam>
        </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">x</parameter>&nbsp;:</term>
          <listitem><simpara>The x coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">y</parameter>&nbsp;:</term>
          <listitem><simpara>The y coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>The new x and y coordinates.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Converts a coordinate from pixels to the canvas view coordinate space.
        The pixel coordinate space specifies pixels from the top-left of the entire canvas window, 
        according to the current scale setting. See 
        <methodname><link linkend="method-goocanvasview--set-scale">set_scale</link></methodname>.
        The canvas view coordinate space is specified in the call to 
        <methodname><link linkend="method-goocanvasview--set-bounds">set_bounds</link></methodname>.
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--convert-to-item-space">
      <title>goocanvas.CanvasView.convert_to_item_space</title>

      <programlisting><methodsynopsis language="python">
          <methodname>convert_to_item_space</methodname>
          <methodparam><parameter role="keyword">item_view</parameter></methodparam>
          <methodparam><parameter role="keyword">x</parameter></methodparam>
          <methodparam><parameter role="keyword">y</parameter></methodparam>
        </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>A <link linkend="class-canvas-item-view">goocanvas.CanvasItemView
              </link></simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">x</parameter>&nbsp;:</term>
          <listitem><simpara>The x coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">y</parameter>&nbsp;:</term>
          <listitem><simpara>The y coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>The new x and y coordinates.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Converts a coordinate from the canvas view coordinate space to the given item's coordinate space, 
        applying all transformation matrices including the item's own transformation matrix, if it has one.
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--convert-to-pixel">
      <title>goocanvas.CanvasView.convert_to_pixel</title>

      <programlisting><methodsynopsis language="python">
          <methodname>convert_to_pixel</methodname>
          <methodparam><parameter role="keyword">x</parameter></methodparam>
          <methodparam><parameter role="keyword">y</parameter></methodparam>
        </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">x</parameter>&nbsp;:</term>
          <listitem><simpara>The x coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">y</parameter>&nbsp;:</term>
          <listitem><simpara>The y coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>The new x and y coordinates.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Converts a coordinate from the canvas view coordinate space to pixels.
        The canvas view coordinate space is specified in the call to 
        <methodname><link linkend="method-goocanvasview--set-bounds">set_bounds</link></methodname>
        The pixel coordinate space specifies pixels from the top-left of the entire canvas window, 
        according to the current scale setting. See 
        <methodname><link linkend="method-goocanvasview--set-scale">set_scale</link></methodname>
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--create-item-view">
      <title>goocanvas.CanvasView.create_item_view</title>

      <programlisting><methodsynopsis language="python">
        <methodname>create_item_view</methodname>
        <methodparam><parameter role="keyword">item</parameter></methodparam>
        <methodparam><parameter role="keyword">parent_view</parameter></methodparam>
      </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item</parameter>&nbsp;:</term>
          <listitem><simpara>The the item to create a view for.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">parent_view</parameter>&nbsp;:</term>
          <listitem><simpara>The parent view of the new item.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>A new item view.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Creates a new item view for the given item, It emits the "item-view-created" 
        signal after creating the view, so application code can connect signal 
        handlers to the new view if desired.
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--get-item-view-at">
      <title>goocanvas.CanvasView.get_item_view_at</title>

      <programlisting><methodsynopsis language="python">
        <methodname>get_item_view_at</methodname>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
        <methodparam><parameter role="keyword">pointer_event</parameter></methodparam>
      </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">x</parameter>&nbsp;:</term>
          <listitem><simpara>The x coordinate of the point</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">y</parameter>&nbsp;:</term>
          <listitem><simpara>The y coordinate of the point</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">pointer_event</parameter>&nbsp;:</term>
          <listitem><simpara><literal>True</literal>if the "pointer-events" 
              properties of items should be used to determine which parts 
              of the item are tested.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>  the item view found at the given point, 
              or None if no item view was found.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Gets the item view at the given point.
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--get-model">
      <title>goocanvas.CanvasView.get_model</title>

      <programlisting><methodsynopsis language="python">
        <methodname>get_model</methodname>
      </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>  the <link linkend="class-canvas-model">goocanvas.CanvasModel</link>
              being displayed.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Gets the model being displayed in the canvas.
      </para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--get-scale">
      <title>goocanvas.CanvasView.get_scale</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>get_scale</methodname>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>The current scale setting.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>
        Gets the current scale of the canvas, i.e. the number of pixels to use for each device unit.
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--grab-focus">
      <title>goocanvas.CanvasView.grab_focus</title>

      <programlisting><methodsynopsis language="python">
        <methodname>grab_focus</methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
      </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>The item view to grab the focus.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>A <link linkend="class-canvas-view">goocanvas.CanvasView</link>
            </simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>Grabs the keyboard focus for the given item.</para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--keyword-grab">
      <title>goocanvas.CanvasView.keyboard_grab</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>keyboard_grab</methodname>
          <methodparam><parameter role="keyword">item_view</parameter></methodparam>
          <methodparam><parameter role="keyword">owner_events</parameter></methodparam>
          <methodparam><parameter role="keyword">time</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>The item view to grab the keyword for.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">owner_events</parameter>&nbsp;:</term>
          <listitem><simpara><literal>True</literal> if keyboard events for this application 
              will be reported normally, or <literal>False</literal> if all keyboard events will 
              be reported with respect to the grab item view.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">time</parameter>&nbsp;:</term>
          <listitem><simpara>The time of the event that lead to the keyboard grab. 
              This should come from the relevant 
              <link linkend="class-gdkevent"><classname>gtk.gdk.Event</classname></link>
          </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>gtk.gdk.GRAB_SUCCESS if the grab succeeded.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>Grabs the keyboard focus for the given item.</para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--keyboard-ungrab">
      <title>goocanvas.CanvasView.keyboard_ungrab</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>keyboard_grab</methodname>
          <methodparam><parameter role="keyword">item_view</parameter></methodparam>
          <methodparam><parameter role="keyword">time</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>The item view that has the keyboard grab.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">time</parameter>&nbsp;:</term>
          <listitem><simpara>The time of the event that lead to the keyboard ungrab. 
              This should come from the relevant 
              <link linkend="class-gdkevent"><classname>gtk.gdk.Event</classname></link>
          </simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>Ungrabs the pointer, if the given item view has the pointer grab.</para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--pointer-grab">
      <title>goocanvas.CanvasView.pointer_grab</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>pointer_grab</methodname>
          <methodparam><parameter role="keyword">item_view</parameter></methodparam>
          <methodparam><parameter role="keyword">event_mask</parameter></methodparam>
          <methodparam><parameter role="keyword">cursor</parameter></methodparam>
          <methodparam><parameter role="keyword">time</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>The item view to grab the pointer for.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">event_mask</parameter>&nbsp;:</term>
          <listitem><simpara>The events to receive during the grab.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">cursor</parameter>&nbsp;:</term>
          <listitem><simpara>The cursor to display during the grab, or <literal>None</literal>.
          </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">time</parameter>&nbsp;:</term>
          <listitem><simpara>The time of the event that lead to the pointer grab. 
              This should come from the relevant 
              <link linkend="class-gdkevent"><classname>gtk.gdk.Event</classname></link>.
          </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>gtk.gdk.GRAB_SUCCESS if the grab succeeded.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>Attempts to grab the pointer for the given item view.</para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--pointer-ungrab">
      <title>goocanvas.CanvasView.pointer_ungrab</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>pointer_ungrab</methodname>
          <methodparam><parameter role="keyword">item_view</parameter></methodparam>
          <methodparam><parameter role="keyword">time</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>The item view that has the pointer grab.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">time</parameter>&nbsp;:</term>
          <listitem><simpara>The time of the event that lead to the pointer ungrab. 
              This should come from the relevant 
              <link linkend="class-gdkevent"><classname>gtk.gdk.Event</classname></link>
            </simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>Ungrabs the pointer, if the given item view has the pointer grab.</para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--render">
      <title>goocanvas.CanvasView.render</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>render</methodname>
          <methodparam><parameter role="keyword">cr</parameter></methodparam>
          <methodparam><parameter role="keyword">bounds</parameter></methodparam>
          <methodparam><parameter role="keyword">scale</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">cr</parameter>&nbsp;:</term>
          <listitem><simpara>A cairo context.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">bounds</parameter>&nbsp;:</term>
          <listitem><simpara>The area to render, or <literal>None</literal> 
              to render the entire canvas.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">scale</parameter>&nbsp;:</term>
          <listitem><simpara>The scale to compare with each item's visibility threshold to see 
              if they should be rendered. This only affects items that have their visibility set 
              to goocanvas.ITEM_VISIBLE_ABOVE_THRESHOLD.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>Renders all or part of a canvas to the given cairo context.</para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--request-redraw">
      <title>goocanvas.CanvasView.request_redraw</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>request_redraw</methodname>
          <methodparam><parameter role="keyword">bounds</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">bounds</parameter>&nbsp;:</term>
          <listitem><simpara>The bounds to redraw.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>Requests that the given bounds be redrawn.</para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--request-update">
      <title>goocanvas.CanvasView.request_update</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>request_update</methodname>
        </methodsynopsis></programlisting>
      
      <variablelist>
      </variablelist>
      
      <para>
        Schedules an update of the 
        <link linkend="class-canvas-view"><classname>goocanvas.CanvasView</classname></link>. 
        This will be performed in the idle loop, after all pending events have been handled, 
        but before the canvas has been repainted.
      </para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--scroll-to">
      <title>goocanvas.CanvasView.scroll_to</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>scroll_to</methodname>
          <methodparam><parameter role="keyword">left</parameter></methodparam>
          <methodparam><parameter role="keyword">top</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">left</parameter>&nbsp;:</term>
          <listitem><simpara>The x coordinate to scroll to.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">top</parameter>&nbsp;:</term>
          <listitem><simpara>The y coordinate to scroll to.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>
        Scrolls the canvas, placing the given point as close to the top-left of 
        the view as possible.
      </para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--set-bounds">
      <title>goocanvas.CanvasView.set_bounds</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>set_bounds</methodname>
          <methodparam><parameter role="keyword">left</parameter></methodparam>
          <methodparam><parameter role="keyword">top</parameter></methodparam>
          <methodparam><parameter role="keyword">right</parameter></methodparam>
          <methodparam><parameter role="keyword">bottom</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">left</parameter>&nbsp;:</term>
          <listitem><simpara>The left edge.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">top</parameter>&nbsp;:</term>
          <listitem><simpara>The top edge.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">right</parameter>&nbsp;:</term>
          <listitem><simpara>The right edge.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">bottom</parameter>&nbsp;:</term>
          <listitem><simpara>The bottom edge.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>
        Sets the bounds of the 
        <link linkend="class-canvas-view"><classname>goocanvas.CanvasView</classname></link> 
        in device units. By default, device units are the same as pixels, though 
        <methodname><link linkend="method-goocanvasview--set-scale">set_scale</link></methodname> 
        can be used to specify a different scale.
      </para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--set-model">
      <title>goocanvas.CanvasView.set_model</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>set_model</methodname>
          <methodparam><parameter role="keyword">model</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">model</parameter>&nbsp;:</term>
          <listitem><simpara>
              A <link linkend="class-canvas-view"><classname>goocanvas.CanvasModel</classname></link>.
          </simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>
        Sets the model to be displayed in the 
        <link linkend="class-canvas-view"><classname>goocanvas.CanvasView</classname></link>.
        A hierarchy of item views will be created, corresponding to the hierarchy of items in the model.
      </para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--set-scale">
      <title>goocanvas.CanvasView.set_scale</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>set_scale</methodname>
          <methodparam><parameter role="keyword">pixel_per_unit</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">pixel_per_unit</parameter>&nbsp;:</term>
          <listitem><simpara>The new scale setting.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>
        Sets the current scale of the canvas, i.e. the number of pixels to use for each device unit.
      </para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--update">
      <title>goocanvas.CanvasView.update</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>update</methodname>
        </methodsynopsis></programlisting>
      
      <variablelist>
      </variablelist>
      
      <para>
        Updates any item views that need updating.
        This is only intended to be used by subclasses of 
        <link linkend="class-canvas-view"><classname>goocanvas.CanvasView</classname></link> or
        <link linkend="class-canvas-item-view"><classname>goocanvas.CanvasItemView</classname></link> 
        implementation. If the bounds of items change, they will request a redraw of the old and 
        new bounds so the display is updated correctly.
      </para>
    </refsect2>

  </refsect1>

  <refsect1>
    <title>Signals</title>

    <refsect2 id="signal-goocanvasview--item-view-created">
      <title>The "item-view-created" goocanvas.CanvasView Signal</title>

      <programlisting><methodsynopsis language="python"><methodname>callback</methodname>
            <methodparam><parameter>canvas_view</parameter></methodparam>
            <methodparam><parameter>item_view</parameter></methodparam>
            <methodparam><parameter>item</parameter></methodparam>
            <methodparam><parameter>user_param</parameter></methodparam>
            <methodparam><parameter>...</parameter></methodparam>
          </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter>canvas_view</parameter>&nbsp;:</term>
          <listitem><simpara>
            The <link linkend="class-canvas-view"><classname>goocanvas.CanvasView</classname></link>.
          </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>item_view</parameter>&nbsp;:</term>
          <listitem><simpara>
            The new <link linkend="class-canvas-item-view"><classname>goocanvas.CanvasItemView</classname></link>.
          </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>item</parameter>&nbsp;:</term>
          <listitem><simpara>
            The <link linkend="class-canvas-item"><classname>goocanvas.Item</classname></link>.
          </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>user_param</parameter>&nbsp;:</term>
          <listitem><simpara>the first user parameter (if any) specified
            with the <link linkend="method-gobject--connect"><methodname>connect</methodname>()</link>
            method
          </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>...</parameter>&nbsp;:</term>
          <listitem><simpara>additional user parameters (if any)</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        The 'item-view-created" signal is emitted when the a new item view is created.
        Applications can set up signal handlers for the new item views here.
      </para>

    </refsect2>
    
    <refsect2 id="signal-goocanvasview--set-scroll-adjustments">
      <title>The "set-scroll-adjustments" goocanvas.CanvasView Signal</title>
      
      <programlisting><methodsynopsis language="python"><methodname>callback</methodname>
          <methodparam><parameter>canvas_view</parameter></methodparam>
          <methodparam><parameter>hadjustment</parameter></methodparam>
          <methodparam><parameter>vadjustment</parameter></methodparam>
          <methodparam><parameter>user_param</parameter></methodparam>
          <methodparam><parameter>...</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter>canvas_view</parameter>&nbsp;:</term>
          <listitem><simpara>
              The <link linkend="class-canvas-view"><classname>goocanvas.CanvasView</classname></link>.
            </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>hadjustment</parameter>&nbsp;:</term>
          <listitem><simpara>
              The horizontal adjustment.
            </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>vadjustment</parameter>&nbsp;:</term>
          <listitem><simpara>
              The vertical adjustment.
            </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>user_param</parameter>&nbsp;:</term>
          <listitem><simpara>the first user parameter (if any) specified
              with the <link linkend="method-gobject--connect"><methodname>connect</methodname>()</link>
              method
            </simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>...</parameter>&nbsp;:</term>
          <listitem><simpara>additional user parameters (if any)</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>
        The 'set-scroll-adjustments" signal is emitted when the GooCanvas is placed inside a
        <link linkend="class-gtkscolledwindow"><classname>gtk.ScrolledWindow</classname></link>, 
        to connect up the adjustments so scrolling works properly.
        It isn't useful for applications.
      </para>
      
    </refsect2>

</refsect1>

</refentry>
