<?xml version="1.0" standalone="no"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
    "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">

<refentry id="class-canvas-view">

  <refnamediv>
    <refname>goocanvas.CanvasView</refname>
      <refpurpose>The Canvas View</refpurpose>
  </refnamediv>

  <refsect1>
    <title>Synopsis</title>

    <classsynopsis language="python">
      <ooclass><classname>goocanvas.CanvasView</classname></ooclass>
      <ooclass><classname>gtk.Container</classname></ooclass>

      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview-convert-from-item-space">convert_from_item_space</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview-convert-to-item-space">convert_to_item_space</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
      </methodsynopsis>

      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--create-item-view">create_item_view</link></methodname>
        <methodparam><parameter role="keyword">item</parameter></methodparam>
        <methodparam><parameter role="keyword">parent_view</parameter></methodparam>
      </methodsynopsis>

      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview-convert-from-pixel">convert_from_pixel</link></methodname>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview-convert-to-pixel">convert_to_pixel</link></methodname>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
      </methodsynopsis>
      
      <!--START NOT YET IMPLEMENTED
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview-get-bounds">get_bounds</link></methodname>
        <methodparam><parameter role="keyword">left</parameter></methodparam>
        <methodparam><parameter role="keyword">top</parameter></methodparam>
        <methodparam><parameter role="keyword">right</parameter></methodparam>
        <methodparam><parameter role="keyword">bottom</parameter></methodparam>
      </methodsynopsis>
      END NOT YET IMPLEMENTED -->
      
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--get-item-view-at">get_item_view_at</link></methodname>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
        <methodparam><parameter role="keyword">pointer_event</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--get-model">get_model</link></methodname>
        <methodparam></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--get-scale">get_scale</link></methodname>
        <methodparam></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--grab-focus">grab_focus</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--keyword-grab">keyboard_grab</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">owner_events</parameter></methodparam>
        <methodparam><parameter role="keyword">time</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--keyboard-ungrab">keyboard_ungrab</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">time</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--pointer-grab">pointer_grab</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">event_mask</parameter></methodparam>
        <methodparam><parameter role="keyword">cursor</parameter></methodparam>
        <methodparam><parameter role="keyword">time</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--pointer-ungrab">pointer_ungrab</link></methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
        <methodparam><parameter role="keyword">time</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--render">render</link></methodname>
        <methodparam><parameter role="keyword">cr</parameter></methodparam>
        <methodparam><parameter role="keyword">bounds</parameter></methodparam>
        <methodparam><parameter role="keyword">scale</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--request-redraw">request_redraw</link></methodname>
        <methodparam><parameter role="keyword">bounds</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--request-update">request_update</link></methodname>
        <methodparam></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--scroll-to">scroll_to</link></methodname>
        <methodparam><parameter role="keyword">left</parameter></methodparam>
        <methodparam><parameter role="keyword">top</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--set-bounds">set_bounds</link></methodname>
        <methodparam><parameter role="keyword">left</parameter></methodparam>
        <methodparam><parameter role="keyword">top</parameter></methodparam>
        <methodparam><parameter role="keyword">right</parameter></methodparam>
        <methodparam><parameter role="keyword">bottom</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--set-model">set_model</link></methodname>
        <methodparam><parameter role="keyword">model</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--set-scale">set_scale</link></methodname>
        <methodparam><parameter role="keyword">scale</parameter></methodparam>
      </methodsynopsis>
      <methodsynopsis language="python">
        <methodname><link linkend="method-goocanvasview--update">update</link></methodname>
        <methodparam></methodparam>
      </methodsynopsis>
</classsynopsis>

  </refsect1>

  <refsect1 id="signal-prototypes-goocanvasview">
    <title>goocanvas.CanvasView Signal Prototypes</title>

      <variablelist>
      <varlistentry>
        <term>"<link linkend="signal-goocanvasview--item-view-created">item-view-created</link>"</term>
        <listitem>
          <methodsynopsis language="python"><methodname>callback</methodname>
            <methodparam><parameter>canvas_view</parameter></methodparam>
            <methodparam><parameter>item</parameter></methodparam>
            <methodparam><parameter>user_param1</parameter></methodparam>
            <methodparam><parameter>...</parameter></methodparam>
          </methodsynopsis>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>"<link linkend="signal-goocanvasview--set-scroll-adjustments">set-scroll-adjustments</link>"</term>
        <listitem>
          <methodsynopsis language="python"><methodname>callback</methodname>
            <methodparam><parameter>canvas_view</parameter></methodparam>
            <methodparam><parameter>hadjustment</parameter></methodparam>
            <methodparam><parameter>vadjustment</parameter></methodparam>
            <methodparam><parameter>user_param1</parameter></methodparam>
            <methodparam><parameter>...</parameter></methodparam>
          </methodsynopsis>
        </listitem>
      </varlistentry>
    </variablelist>

  </refsect1>

  <refsect1>
    <title>Description</title>

  </refsect1>

  <refsect1>
    <title>Methods</title>

    <refsect2 id="method-goocanvasview--convert-from-item-space">
      <title>goocanvas.CanvasView.convert_from_item_space</title>

      <programlisting><methodsynopsis language="python">
        <methodname>convert_from_item_space</methodname>
          <methodparam><parameter role="keyword">item_view</parameter></methodparam>
          <methodparam><parameter role="keyword">x</parameter></methodparam>
          <methodparam><parameter role="keyword">y</parameter></methodparam>
        </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>A <link linkend="class-canvas-item-view">goocanvas.CanvasItemView
              </link></simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">x</parameter>&nbsp;:</term>
          <listitem><simpara>The x coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">y</parameter>&nbsp;:</term>
          <listitem><simpara>The y coordinate to convert.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>A new item view.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Creates a new item view for the given item, It emits the "item-view-created" 
        signal after creating the view, so application code can connect signal 
        handlers to the new view if desired.
      </para>
    </refsect2>
    <refsect2 id="method-goocanvasview--create-item-view">
      <title>goocanvas.CanvasView.create_item_view</title>

      <programlisting><methodsynopsis language="python">
        <methodname>create_item_view</methodname>
        <methodparam><parameter role="keyword">item</parameter></methodparam>
        <methodparam><parameter role="keyword">parent_view</parameter></methodparam>
      </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item</parameter>&nbsp;:</term>
          <listitem><simpara>The the item to create a view for.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">parent_view</parameter>&nbsp;:</term>
          <listitem><simpara>The parent view of the new item.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>A new item view.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Creates a new item view for the given item, It emits the "item-view-created" 
        signal after creating the view, so application code can connect signal 
        handlers to the new view if desired.
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--get-item-view-at">
      <title>goocanvas.CanvasView.get_item_view_at</title>

      <programlisting><methodsynopsis language="python">
        <methodname>get_item_view_at</methodname>
        <methodparam><parameter role="keyword">x</parameter></methodparam>
        <methodparam><parameter role="keyword">y</parameter></methodparam>
        <methodparam><parameter role="keyword">pointer_event</parameter></methodparam>
      </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">x</parameter>&nbsp;:</term>
          <listitem><simpara>The x coordinate of the point</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">y</parameter>&nbsp;:</term>
          <listitem><simpara>The y coordinate of the point</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">pointer_event</parameter>&nbsp;:</term>
          <listitem><simpara><literal>True</literal>if the "pointer-events" 
              properties of items should be used to determine which parts 
              of the item are tested.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>  the item view found at the given point, 
              or None if no item view was found.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Gets the item view at the given point.
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--get-model">
      <title>goocanvas.CanvasView.get_model</title>

      <programlisting><methodsynopsis language="python">
        <methodname>get_model</methodname>
      </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>  the <link linkend="class-canvas-model">goocanvas.CanvasModel</link>
              being displayed.</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>
        Gets the model being displayed in the canvas.
      </para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--get-scale">
      <title>goocanvas.CanvasView.get_scale</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>get_scale</methodname>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>The current scale setting.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>
        Gets the current scale of the canvas, i.e. the number of pixels to use for each device unit.
      </para>
    </refsect2>

    <refsect2 id="method-goocanvasview--grab-focus">
      <title>goocanvas.CanvasView.grab_focus</title>

      <programlisting><methodsynopsis language="python">
        <methodname>grab_focus</methodname>
        <methodparam><parameter role="keyword">item_view</parameter></methodparam>
      </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>The item view to grab the focus.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>A <link linkend="class-canvas-view">goocanvas.CanvasView</link>
            </simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>Grabs the keyboard focus for the given item.</para>
    </refsect2>
    
    <refsect2 id="method-goocanvasview--keyword-grab">
      <title>goocanvas.CanvasView.keyboard_grab</title>
      
      <programlisting><methodsynopsis language="python">
          <methodname>keyboard_grab</methodname>
          <methodparam><parameter role="keyword">item_view</parameter></methodparam>
          <methodparam><parameter role="keyword">owner_events</parameter></methodparam>
          <methodparam><parameter role="keyword">time</parameter></methodparam>
        </methodsynopsis></programlisting>
      
      <variablelist>
        <varlistentry>
          <term><parameter role="keyword">item_view</parameter>&nbsp;:</term>
          <listitem><simpara>The item view to grab the keyword for.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">owner_events</parameter>&nbsp;:</term>
          <listitem><simpara><literal>True</literal> if keyboard events for this application 
              will be reported normally, or <literal>False</literal> if all keyboard events will 
              be reported with respect to the grab item view..</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter role="keyword">time</parameter>&nbsp;:</term>
          <listitem><simpara>The time of the event that lead to the keyboard grab. 
              This should come from the relevant gtk.gdk.Event</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis>Returns</emphasis>&nbsp;:</term>
          <listitem><simpara>gtk.gdk.GRAB_SUCCESS if the grab succeeded.</simpara></listitem>
        </varlistentry>
      </variablelist>
      
      <para>Grabs the keyboard focus for the given item.</para>
    </refsect2>

  </refsect1>

  <refsect1>
    <title>Signals</title>

    <refsect2 id="signal-goocanvasview--bounds-changed">
      <title>The "bounds-changed" goocanvas.CanvasView Signal</title>

      <programlisting><methodsynopsis language="python"><methodname>callback</methodname>
            <methodparam><parameter>goocanvasview</parameter></methodparam>
            <methodparam><parameter>rect</parameter></methodparam>
            <methodparam><parameter>user_param1</parameter></methodparam>
            <methodparam><parameter>...</parameter></methodparam>
          </methodsynopsis></programlisting>

      <variablelist>
        <varlistentry>
          <term><parameter>goocanvasview</parameter>&nbsp;:</term>
          <listitem><simpara>the object which received the signal.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>rect</parameter>&nbsp;:</term>
          <listitem><simpara>The <link
          linkend="class-atkrectangle"><classname>atk.Rectangle</classname></link>
          giving the new position and size.</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>user_param1</parameter>&nbsp;:</term>
          <listitem><simpara>the first user parameter (if any) specified
          with the <link
          linkend="method-gobject--connect"><methodname>connect</methodname>()</link>
          method</simpara></listitem>
        </varlistentry>
        <varlistentry>
          <term><parameter>...</parameter>&nbsp;:</term>
          <listitem><simpara>additional user parameters (if any)</simpara></listitem>
        </varlistentry>
      </variablelist>

      <para>The 'bounds-changed" signal is emitted when the bposition or
      size of the a component changes.</para>

    </refsect2>

</refsect1>

</refentry>
